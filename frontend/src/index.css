/* === Base Variables (Apply to both themes unless overridden) === */
:root {
  /* NEW M3 Light Mode Color Roles */
  --color-primary: #005FB0;
  --color-on-primary: #FFFFFF;
  --color-primary-container: #D1E4FF;
  --color-on-primary-container: #001C3B;
  --color-secondary: #006D3D;
  --color-on-secondary: #FFFFFF;
  --color-secondary-container: #9CF2B9;
  --color-on-secondary-container: #00210F;
  --color-tertiary: #605B7D;
  --color-on-tertiary: #FFFFFF;
  --color-error: #B3261E;
  --color-on-error: #FFFFFF;
  --color-background: #F8F9FD;
  --color-on-background: #191C1F;
  --color-surface: #F8F9FD;
  --color-on-surface: #191C1F;
  --color-surface-variant: #DFE2EB;
  --color-on-surface-variant: #43474E;
  --color-outline: #73777F;
  --color-surface-container-lowest: #FFFFFF;
  --color-surface-container-low: #F4F4F5;
  --color-surface-container: #EEEEEF;
  --color-surface-container-high: #E8E8EE;
  --color-surface-container-highest: #E2E2E9;
  /* RGB for state layers */
  --color-on-surface-rgb: 25, 28, 31; /* #191C1F */

  /* === OLD Colors (To be Removed - Kept here briefly for context) === */
  /*
  --color-primary: #005FB0;
  --color-primary-rgb: 0, 95, 176; // REMOVED
  --color-secondary: #006D3D;
  --color-accent-green: #36B37E;
  --color-text-on-primary-light: #FFFFFF;
  --color-text-on-primary-dark: #FFFFFF;
  */

  /* Spacing Scale */
  --space-xxs: 0.25rem;
  --space-xs: 0.5rem;
  --space-s: 1rem;
  --space-m: 1.5rem;
  --space-l: 2rem;
  --space-xl: 3rem;
  --space-xxl: 4rem;

  /* Typography Base */
  --font-family-base: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  --line-height-base: 1.6;
  --line-height-heading: 1.3;

  /* Typography Scale */
  --font-size-h1: 2rem;
  --font-size-h2: 1.5rem;
  --font-size-h3: 1.25rem;
  --font-size-body: 1rem; /* Base */
  --font-size-secondary: 0.875rem;
  --font-size-small: 0.75rem;

  /* Border Radius */
  --border-radius-s: 4px;
  --border-radius-m: 8px;
  --border-radius-l: 16px;

  /* Other Base UI */
  --transition-duration: 0.2s;
  --transition-easing: ease; /* M3 standard easing: cubic-bezier(0.4, 0.0, 0.2, 1) */

  /* === M3 Shape Scale === */
  --m3-shape-corner-none: 0px;
  --m3-shape-corner-extra-small: var(--border-radius-s); /* 4px */
  --m3-shape-corner-small: var(--border-radius-m); /* 8px */
  --m3-shape-corner-medium: 12px; /* M3 Default */
  --m3-shape-corner-large: var(--border-radius-l); /* 16px */
  --m3-shape-corner-extra-large: 28px; /* M3 Default */
  --m3-shape-corner-full: 999px; /* Effectively full */

  /* === M3 Type Scale === */
  /* Base */
  --m3-font-family-brand: var(--font-family-base);
  --m3-font-family-plain: var(--font-family-base);

  /* Display */
  --m3-type-display-large-font: var(--m3-font-family-brand);
  --m3-type-display-large-weight: var(--font-weight-regular);
  --m3-type-display-large-size: 3.5625rem; /* 57px */
  --m3-type-display-large-line-height: 4rem; /* 64px */
  --m3-type-display-large-letter-spacing: -0.015625em; /* -0.25px */

  --m3-type-display-medium-font: var(--m3-font-family-brand);
  --m3-type-display-medium-weight: var(--font-weight-regular);
  --m3-type-display-medium-size: 2.8125rem; /* 45px */
  --m3-type-display-medium-line-height: 3.25rem; /* 52px */
  --m3-type-display-medium-letter-spacing: 0em;

  --m3-type-display-small-font: var(--m3-font-family-brand);
  --m3-type-display-small-weight: var(--font-weight-regular);
  --m3-type-display-small-size: 2.25rem; /* 36px */
  --m3-type-display-small-line-height: 2.75rem; /* 44px */
  --m3-type-display-small-letter-spacing: 0em;

  /* Headline (Mapping h1/h2 roughly) */
  --m3-type-headline-large-font: var(--m3-font-family-brand);
  --m3-type-headline-large-weight: var(--font-weight-regular);
  --m3-type-headline-large-size: 2rem; /* 32px - Mapped from h1 */
  --m3-type-headline-large-line-height: 2.5rem; /* 40px */
  --m3-type-headline-large-letter-spacing: 0em;

  --m3-type-headline-medium-font: var(--m3-font-family-brand);
  --m3-type-headline-medium-weight: var(--font-weight-regular);
  --m3-type-headline-medium-size: 1.75rem; /* 28px */
  --m3-type-headline-medium-line-height: 2.25rem; /* 36px */
  --m3-type-headline-medium-letter-spacing: 0em;

  --m3-type-headline-small-font: var(--m3-font-family-brand);
  --m3-type-headline-small-weight: var(--font-weight-regular);
  --m3-type-headline-small-size: 1.5rem; /* 24px - Mapped from h2 */
  --m3-type-headline-small-line-height: 2rem; /* 32px */
  --m3-type-headline-small-letter-spacing: 0em;

  /* Title (Mapping h3 roughly) */
  --m3-type-title-large-font: var(--m3-font-family-brand);
  --m3-type-title-large-weight: var(--font-weight-regular); /* M3 uses Regular */
  --m3-type-title-large-size: 1.375rem; /* 22px */
  --m3-type-title-large-line-height: 1.75rem; /* 28px */
  --m3-type-title-large-letter-spacing: 0em;

  --m3-type-title-medium-font: var(--m3-font-family-plain);
  --m3-type-title-medium-weight: var(--font-weight-medium); /* M3 uses Medium */
  --m3-type-title-medium-size: 1rem; /* 16px */
  --m3-type-title-medium-line-height: 1.5rem; /* 24px */
  --m3-type-title-medium-letter-spacing: 0.009375em; /* 0.15px */

  --m3-type-title-small-font: var(--m3-font-family-plain);
  --m3-type-title-small-weight: var(--font-weight-medium); /* M3 uses Medium */
  --m3-type-title-small-size: 0.875rem; /* 14px */
  --m3-type-title-small-line-height: 1.25rem; /* 20px */
  --m3-type-title-small-letter-spacing: 0.00714em; /* 0.1px */

  /* Label */
  --m3-type-label-large-font: var(--m3-font-family-plain);
  --m3-type-label-large-weight: var(--font-weight-medium); /* M3 uses Medium */
  --m3-type-label-large-size: 0.875rem; /* 14px */
  --m3-type-label-large-line-height: 1.25rem; /* 20px */
  --m3-type-label-large-letter-spacing: 0.00714em; /* 0.1px */

  --m3-type-label-medium-font: var(--m3-font-family-plain);
  --m3-type-label-medium-weight: var(--font-weight-medium); /* M3 uses Medium */
  --m3-type-label-medium-size: 0.75rem; /* 12px */
  --m3-type-label-medium-line-height: 1rem; /* 16px */
  --m3-type-label-medium-letter-spacing: 0.0416em; /* 0.5px */

  --m3-type-label-small-font: var(--m3-font-family-plain);
  --m3-type-label-small-weight: var(--font-weight-medium); /* M3 uses Medium */
  --m3-type-label-small-size: 0.6875rem; /* 11px */
  --m3-type-label-small-line-height: 1rem; /* 16px */
  --m3-type-label-small-letter-spacing: 0.045em; /* 0.5px */

  /* Body (Mapping body/secondary/small roughly) */
  --m3-type-body-large-font: var(--m3-font-family-plain);
  --m3-type-body-large-weight: var(--font-weight-regular);
  --m3-type-body-large-size: 1rem; /* 16px - Mapped from body */
  --m3-type-body-large-line-height: 1.5rem; /* 24px */
  --m3-type-body-large-letter-spacing: 0.03125em; /* 0.5px */

  --m3-type-body-medium-font: var(--m3-font-family-plain);
  --m3-type-body-medium-weight: var(--font-weight-regular);
  --m3-type-body-medium-size: 0.875rem; /* 14px - Mapped from secondary */
  --m3-type-body-medium-line-height: 1.25rem; /* 20px */
  --m3-type-body-medium-letter-spacing: 0.0178em; /* 0.25px */

  --m3-type-body-small-font: var(--m3-font-family-plain);
  --m3-type-body-small-weight: var(--font-weight-regular);
  --m3-type-body-small-size: 0.75rem; /* 12px - Mapped from small */
  --m3-type-body-small-line-height: 1rem; /* 16px */
  --m3-type-body-small-letter-spacing: 0.0333em; /* 0.4px */

  /* === M3 Motion === */
  /* Placeholder values - use M3 specs for duration/easing */
  --m3-motion-duration-short1: 50ms;
  --m3-motion-duration-short2: 100ms;
  --m3-motion-duration-short3: 150ms;
  --m3-motion-duration-short4: 200ms;
  --m3-motion-duration-medium1: 250ms;
  --m3-motion-duration-medium2: 300ms;
  --m3-motion-duration-medium3: 350ms;
  --m3-motion-duration-medium4: 400ms;
  --m3-motion-duration-long1: 450ms;
  --m3-motion-duration-long2: 500ms;
  --m3-motion-duration-long3: 550ms;
  --m3-motion-duration-long4: 600ms;
  --m3-motion-duration-extra-long1: 700ms;
  --m3-motion-duration-extra-long2: 800ms;
  --m3-motion-duration-extra-long3: 900ms;
  --m3-motion-duration-extra-long4: 1000ms;

  --m3-motion-easing-linear: linear;
  --m3-motion-easing-standard: cubic-bezier(0.4, 0.0, 0.2, 1);
  --m3-motion-easing-standard-accelerate: cubic-bezier(0.3, 0.0, 0.8, 0.15);
  --m3-motion-easing-standard-decelerate: cubic-bezier(0.0, 0.0, 0.2, 1);
  --m3-motion-easing-emphasized: cubic-bezier(0.4, 0.0, 0.2, 1); /* Standard is often used for Emphasized */
  --m3-motion-easing-emphasized-accelerate: cubic-bezier(0.3, 0.0, 0.8, 0.15);
  --m3-motion-easing-emphasized-decelerate: cubic-bezier(0.05, 0.7, 0.1, 1.0);
  --m3-motion-easing-legacy: cubic-bezier(0.4, 0.0, 0.6, 1);
  --m3-motion-easing-legacy-accelerate: cubic-bezier(0.4, 0.0, 1, 1);
  --m3-motion-easing-legacy-decelerate: cubic-bezier(0.0, 0.0, 0.2, 1);
}

/* === Light Mode Variables === */
html:not([data-theme='dark']) {

  /* --- M3 States (Light) --- */
  /* Ensure --color-on-surface-rgb is defined in :root */
  --m3-state-hover-layer: rgba(var(--color-on-surface-rgb), 0.08);
  --m3-state-focus-layer: rgba(var(--color-on-surface-rgb), 0.12);
  --m3-state-pressed-layer: rgba(var(--color-on-surface-rgb), 0.12);
  --m3-state-dragged-layer: rgba(var(--color-on-surface-rgb), 0.16);
}

/* === Dark Mode Variables === */
html[data-theme='dark'] {
  /* NEW M3 Dark Mode Color Roles */
  --color-primary: #9ECBFF;
  --color-on-primary: #00325A;
  --color-primary-container: #004881;
  --color-on-primary-container: #D1E4FF;
  --color-secondary: #80D59E;
  --color-on-secondary: #00391C;
  --color-secondary-container: #00522A;
  --color-on-secondary-container: #9CF2B9;
  --color-tertiary: #C8C0E5;
  --color-on-tertiary: #312D4C;
  --color-error: #F2B8B5;
  --color-on-error: #601410;
  --color-background: #111316;
  --color-on-background: #E2E2E9;
  --color-surface: #111316;
  --color-on-surface: #E2E2E9;
  --color-surface-variant: #43474E;
  --color-on-surface-variant: #C3C6CE;
  --color-outline: #8D9199;
  --color-surface-container-lowest: #0C0E11;
  --color-surface-container-low: #1B1D21;
  --color-surface-container: #1F2125;
  --color-surface-container-high: #292B2F;
  --color-surface-container-highest: #33353A;
  /* RGB for state layers */
  --color-on-surface-rgb: 226, 226, 233; /* #E2E2E9 */

  /* --- M3 States (Dark) --- */
  /* Ensure --color-on-surface-rgb is defined */
  --m3-state-hover-layer: rgba(var(--color-on-surface-rgb), 0.08);
  --m3-state-focus-layer: rgba(var(--color-on-surface-rgb), 0.12);
  --m3-state-pressed-layer: rgba(var(--color-on-surface-rgb), 0.12);
  --m3-state-dragged-layer: rgba(var(--color-on-surface-rgb), 0.16);

  /* --- Other Non-M3-Role Specific Dark Vars (REMOVED or UPDATED) --- */
  /* Align gradient with M3 container/background colors */
  --color-app-background-start: var(--color-surface-container-lowest); /* Darkest */
  --color-app-background-end: var(--color-background); /* Standard background */
  --color-app-background: transparent; /* Keep gradient for body */
  /* Old hover/disabled - REMOVED (use state layers) */
  /* --color-ui-background-hover: #202A3A; */
  /* --color-ui-background-disabled: #111823; */
}

/* === Global Base Styles === */
html {
  font-family: var(--font-family-base);
  font-size: var(--font-size-body);
  line-height: var(--line-height-base);
  font-weight: var(--font-weight-regular);
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  color: var(--color-on-background);
  background-color: var(--color-background);
  transition: color 0.2s ease, background-color 0.2s ease; /* Basic transitions */
}

/* Apply dark mode gradient to body or a wrapper if needed */
html[data-theme='dark'] body {
  /* Keep gradient for now, but M3 typically uses solid background colors */
  /* Updated gradient stops to match new dark theme colors */
  background-image: linear-gradient(to bottom right, var(--color-app-background-start), var(--color-app-background-end));
  background-attachment: fixed; /* Keep gradient fixed */
}

body {
  margin: 0;
  display: flex;
  flex-direction: column; /* Allow Navbar + Content structure */
  min-width: 320px;
  min-height: 100vh;
}

#root {
  display: flex;
  flex-direction: column;
  flex-grow: 1; /* Make root take full height */
}

/* Reset default browser styles for common elements */
h1, h2, h3, h4, h5, h6, p, ul, ol, li {
  margin: 0;
  padding: 0;
}

ul, ol {
  list-style: none;
}

/* Basic link styling */
a {
  font-weight: var(--font-weight-medium);
  color: var(--m3-color-link, var(--color-primary)); /* Use theme link or primary - KEEP THIS FALLBACK */
  text-decoration: none;
  transition: color var(--transition-duration) ease;
}
a:hover {
  /* Consider using state layer color overlay instead of filter */
  filter: brightness(1.2);
}

/* Basic button reset (more specific styles in components/rules) */
button {
  font-family: inherit;
  font-size: inherit;
  font-weight: 500;
  cursor: pointer;
  border: none;
  background: none;
  padding: 0;
  color: inherit;
}

/* Additions for Typography Scale */
/* Recommend removing these and using M3 type utility classes instead */
/*
h1 { font-size: var(--font-size-h1); font-weight: var(--font-weight-bold); line-height: var(--line-height-heading); }
h2 { font-size: var(--font-size-h2); font-weight: var(--font-weight-semibold); line-height: var(--line-height-heading); }
h3 { font-size: var(--font-size-h3); font-weight: var(--font-weight-medium); line-height: var(--line-height-heading); }
*/
/* Add other heading levels if needed */

/* Utility class for tabular numbers */
.tabular-nums {
  font-variant-numeric: tabular-nums;
}

/* === Skeleton Loader Animation === */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}